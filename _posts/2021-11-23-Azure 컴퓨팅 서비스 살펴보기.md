---
layout: single
title: \[강의요약\] MS Learn - Azure 컴퓨팅 서비스 살펴보기
date: 2021-11-23 23:05:00 +0900
categories: Azure azure_fundamentals
---

# Azure 기본 사항 part2 핵심 서비스

---

## Azure 컴퓨팅 서비스 살펴보기

1. ### Azure 컴퓨팅 서비스 개요

   1. 가상 머신 : IaaS

      1. virtual machine scale set : 동일한 VM을 세트로 묶어서 사용량에 따라 인스턴스 수동/자동으로 조절
      2. 사용하는 경우
         1. 내 맘대로 OS, 소프트웨어, 호스팅 구성 등을 사용하고 싶을 때
         2. 테스트 및 개발 도중 : 테스트를 위해서 또는 확장성을 위해 사용할 수 있음
            1. Azure batch : VM을 수천 개의 가상 머신으로 스케일링해 일괄 작업을 던질 수 있음
         3. 클라우드에서 애플리케이션을 실행만 하면 되는 경우
         4. 온 프레미스 데이터 센터를 클라우드로 확장하는 경우 : 이미지 떠서 부으면 되니까
         5. disaster recovery(재해복구) 중 : 급하게 복구할 때는 IaaS 기반 접근을 사용하여 비용이 줄일 수 있음

   2. 컨테이너 및 kubernetes : 컨테이너 배포 관리 Azure 리소스

      1. 사용하는 경우 : 단일 호스트 컴퓨터에 여러 인스턴스를 실행하려는 경우<br/>애플리케이션 간 OS 단위의 완전 격리가 불필요한 경우 컨테이너를 사용하는 것이 좋음<br/>
         왜냐하면 컨테이너화 된 어플리케이션은 가볍고, 이식성이 좋기 때문

      2. 컨테이너 관리 방안

         1. Azure Container Instances : 컨테이너를 올릴 수 있는 PaaS
         2. AKS(Azure Kubernetes Service) : 컨테이너 자동화 관리 및 상호작용 작업(오케스트레이션)

         - kubernetes 기능
           - 죽은 pods 자동 재시작
           - 클러스터 노드 제거 시 워크로드들을 다른 노드로 이동
           - 요청양에 따라 pod 크기를 자동 조절
           - rolling 업데이트가 되고, 롤백도 됨
           - 컨테이너 간 공용 데이터 저장소 제공
           - kubernetes API를 커스텀해서 더 많은 작업이 가능함

         3. MSA(Micro Service Architecture) : 컨테이너를 더 작은 조각으로 분할

         - MSA
           - 마이크로 서비스 솔루션의 집합
           - 프레임워크 등을 공유할 필요가 없고, 이로 인해서 각 개발 팀이 본인 작업에 집중이 가능
           - 각 마이크로 서비스는 독립되어 배포가 가능
           - 한 서비스가 죽어도 애플리케이션 전체가 죽지 않음

   3. App service : PaaS로 웹/모바일/API 어플리케이션을 빌드, 배포, 스케일링

      1. 사용하는 경우 : 인프라 관리 없이 프로그래밍으로 각종 애플리케이션을 빌드 및 배포 하고 싶은 경우 사용
      2. Azure DevOps, GitHub, Git repo 자동화 배포 등을 지원. windows / linux 선택 가능
      3. 지원 기능
         1. 배포 / 관리 기능
         2. 엔드포인트 보안
         3. 스케일링
         4. load balancing, traffic manager 제공
      4. 유형
         1. 웹앱 : ASP, Java, Ruby, Node.js, PHP, python 지원
         2. API 앱 : swagger 지원. api 패키지를 게시하는 기능 사용 가능. http / https 지원
         3. WebJobs : 웹앱/API앱과 동일한 컨텍스트에서 프로그램(Java 등)과 스크립트(bash 등)을 실행할 수 있음
         4. 모바일 앱 : ios / android의 백엔드를 빠르게 빌드 가능. 소셜 고객 인증, 앱 데이터 저장, 푸시알림 전송 등 지원. SDK 지원도 제공

   4. functions : 서버리스 컴퓨팅으로 이벤트, 스케줄링 된 타이밍에 작업을 실행해주는 리소스

      1. 사용하는 경우 : 이벤트 기반 어플리케이션이고, 이벤트 빈도가 적어 기다리는 시간이 긴 경우
      2. 장점
         1. 서버의 추상화 : 명시적으로 인스턴스를 사용하지 않고, 크기와 성능, 인스턴스도 마음대로 바뀜
         2. 이벤트 기반 크기 조정 : 타이머, HTTP webhook, queue 등등<br/>
            예정된 이벤트 비율을 메타데이터에 저장하여 인스턴스의 수를 조정
         3. 마이크로 청구 : 실행 회수 + 코드가 실행되는 시간에 대해서만 비용을 지불
      3. 지원 서비스
         1. Azure Functions : 이벤트 발생 시 작성한 함수가 실행되기를 원할 때 사용
            1. durable functions(static function)인 경우 작업 추적을 위한 컨택스트를 전달함
         2. Azure Logic Apps : functions와 거의 유사하지만, 실행되는 내용이 미리 정의된 논리 블록(workflow)를 실행함
            1. 논리 블록 : Azure Portal / Visual studio의 visual disigner로 개발 가능<br/>
               조건문, 명령문, 반복문 등의 흐름 컨트롤을 할 수 있음
            2. 코드를 안 써도 된다는 장점
            3. functions는 default가 상태 비저장인데, Logic Apps는 상태 저장임

   5. Azure Virtual Desktop : 데스크톱 및 애플리케이션 가상화 서비스. 브라우저를 이용해 접근이 가능

      1. 사용하는 경우 : 외주한테 보안상의 이유로 PC를 세팅해서 제공해야하는 경우
      2. 제공 기능
         1. 간단한 관리 : Azure에서 해당 dektop을 바로 관리할 수 있음. RBAC, monitoring 등
         2. 성능관리 : 호스트 풀에서 사용자의 부하 분산 옵션 제공
         3. windows 10을 다중 세션으로 사용할 수 있음
      3. microsoft 365 라이센스가 있다면 무료랍니다

지식점검

virtual machine scale set / azure functions / azure virtual desktop

