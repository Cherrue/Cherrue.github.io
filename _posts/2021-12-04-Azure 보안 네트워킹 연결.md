---
layout: single
title: \[강의요약\] MS Learn - Azure 보안 네트워크 연결
date: 2021-12-04 18:20:00 +0900
categories: Azure azure_fundamentals
---

자격증 AZ-900 : Azure Fundamentals 취득을 위한 학습 과정 요약입니다.

서비스에 대한 설명 위주로 요약합니다.

[https://docs.microsoft.com/ko-kr/learn/modules/secure-network-connectivity-azure/](https://docs.microsoft.com/ko-kr/learn/modules/secure-network-connectivity-azure/)

# Azure Fundamentals part 4: Describe general security and network security features

---

## Azure의 보안 네트워크 연결

##### 1. defense in depth(심층 방어)

> 데이터에 무단 액세스 공격 진행 속도를 늦추는 여러 메커니즘. 무단 액세스로 인한 도난에 방어하기 위함

계층 : physical security > Identity & Access > Perimiter > Network > Compute > Application > Data

1-1. 물리적 보안(physical security) : 데이터센터 건물에 접근, 컴퓨터 하드웨어 액세스 제어

1-2. ID & Access : 인프라 접근 통제. SSO. multifactor 인증. 이벤트 변경 내용 감시

1-3. perimeter(경계) : DDoS 방지를 위해 공격성 패킷 필터링. 방화벽으로 공격 식별 및 경고

1-4. 네트워크 : Azure 리소스 간 통신 제한. 일단 네트워크 접근은 거부. 인바운드 액세스 금지. 아웃바운드 액세스에 제한.

1-5. 컴퓨팅 : 가상 머신 액세스 보호. 디바이스 엔드포인트 보호 구현. 시스템 최신 상태로 유지

1-6. 어플리케이션 : 어플리케이션 취약점 제거. 어플리케이션 비밀을 안전한 매체에 저장. 보안 항목을 설계 요구사항에 포함

1-7. 데이터 : 데이터의 기밀성 / 무결성 / 가용성 보장을 위한 프로세스 적용

##### 2. Security Posture(보안 상태)

> 보안 위협으로부터 보호하고 대응하는 조직의 역량

- 기밀성(confidentiality) : 최소 권한 원칙. 액세스 권한 있는 사람에게만 정보 제공
- 무결성(integrity) : unique한 fingerprint을 붙여서 전송하여 정보 무단 변경 감지
- 가용성(availability) : 권한이 있는 사용자만 접근 가능

##### 3. Azure Firewall

> 리소스 간 통신 / 인터넷과의 통신을 안전하게 지원하는 관리형 클라우드 기반 네트워크 보안 서비스

특징

- stateful 방화벽 : 개별 패킷과 전체 네트워크 컨텍스트 분석
- 중앙 저장 : 연결 정책 등을 중앙에 저장. 

기능

- 고가용성
- 무제한 클라우드 스케일링
- 인바운드 / 아웃바운드 규칙 지정
- 인바운드 DNAT(Destination Network Address Transaltion)
- Azure Monitor 로깅 가능
- FQDNs(Fully Qualified Domain Names) 정의
- 주소 정의 네트워크 규칙
- NAT(Network Address Translation) 규칙 정의

Web Application Firewall도 Azure Application Gateway에서 제공한다.

##### 4. Azure DDoS Protection

4-1. Basic : 무료. DDoS가 Azure 인프라에 영향 안주도록 방어

4-2. Standard : 상시 트래픽 모니터링. 실시간 완화

- 정상으로 보이는 대용량 트래픽 공격 방어 가능
- 프로토콜 공격(계층 3/4의 프로토콜 스택 취약점 공격)을 방어
- 웹 어플리케이션 패킷 공격 - WAF가 있다면 방어 

##### 5. NSG(네트워크 보안 그룹)

> Azure 리소스 간 네트워크 트래픽 필터링. 내부 방화벽 같은 거임

###### 6. [연습] 네트워크 보안 그룹으로 VM 네트워크 액세스 구성

6-1. VM 생성

6-2. nginx 설치

6-3. ip 가져와서 확인

6-4. 보안 그룹 확인

6-5. 보안 그룹 설정 : 80포트 열기 설정

6-6. 포트 접근 성공 확인

##### 7. Azure 서비스 결합

7-1. perimeter(경계) 계층 보안 : DDoS Protection. Azure Firewall

7-2. 네트워크 계층 보안 : NSG로 인바운드/아웃바운드 규칙 설정

7-3. 서비스 결합

- NSG와 Azure Firewall : NSG로 트래픽 제한 + 방화벽으로 애플리케이션 수준 보호
- WAF + Azure Firewall : 취약점 방어 + 프로토콜 방어

----

지식점검

Azure DDoS Protection / Azure Firewall에서 애플리케이션 규칙을 만듭니다. / 동일한 네트워크에 있는 다른 VM의 액세스를 차단하는 네트워크 보안 그룹 규칙을 만듭니다.

